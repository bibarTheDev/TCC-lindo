<ion-header>
  <ion-toolbar color="escuro">
    <ion-title>Relatório de Crise</ion-title>
    <ion-buttons slot="end">
      <ion-button routerLink="/tabs">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div *ngIf="error; else noError">
    erro
  </div>
  <ng-template #noError>
    <!-- grafico card -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>
          Gráfico de crises:
        </ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <!-- grafico em si -->
        <canvas #grafico>
          
        </canvas>
      </ion-card-content>
    </ion-card>

    <!-- dados card -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>
          Dados:
        </ion-card-title>
      </ion-card-header>

      <!-- dados em si -->
      <ion-card-content *ngIf="estatisticas != null">
        <ion-item> Total de crises nos ultimos 12 meses: {{estatisticas.total}} </ion-item>
        <ion-item> Média de crises por mês: {{estatisticas.mediaMensal}} </ion-item>
        <ion-item> Média de crises por dia: {{estatisticas.mediaDiaria}} </ion-item>
        <ion-item *ngIf="estatisticas.mediaInterv != false"> Uma crise ocorre a cada {{estatisticas.mediaInterv}} dia(s), em média. </ion-item>
      </ion-card-content>
    </ion-card>  
  </ng-template>

  <!-- kek -->
  <ion-card>
    <ion-card-content>
      Para melhor visualização dos gráficos, recomendamos a plataforma mudAnálise web.
    </ion-card-content>
  </ion-card>

</ion-content>